export const description = "Aprenda a implementar seu próprio bot da Shopify para ajudar os clientes de sua loja e cuidar das vendas"

# Shopify

<Note>
Se precisar de ajuda para gerar sua chave de API do Shopify, você pode visitar estes recursos [Shopify Api Key](https://www.shopify.com/partners/blog/17056443-how-to-generate-a-shopify-api-token)
</Note>

Para integrar o plug-in em seus outros fluxos, é necessário instalar a biblioteca:

## Instalar

```bash {{ title: 'npm' }}
    npm install @builderbot-plugins/shopify
```

```typescript
    import 'dotenv/config'
    import { createBot, MemoryDB, createProvider, createFlow } from '@bot-whatsapp/bot'
    import { createShopifyFlow } from '@builderbot-plugins/shopify'
    import BaileysProvider from "@bot-whatsapp/provider/baileys";

    const main = async () => {

        const provider = createProvider(BaileysProvider)

        const { flow } = await createShopifyFlow({
            modelName: 'gpt-3.5-turbo-16k',
            openApiKey: "YOUR_OPEN_API_KEY_HERE",
            shopifyApiKey: "YOUR_SHOPIFY_API_KEY_HERE",
            shopifyDomain: "SEU_SHOPIFY_DOMÍNIO_AQUI"
        })

        await createBot({
            database: new MemoryDB(),
            provider,
            flow: createFlow(flow)
        })

    }

    main()
```

## SmartFlows

Ok, um smartflow nada mais é do que um fluxo como conhecemos, só que este tem algo que o torna especial!

Esse algo é a capacidade de se comunicar com a IA para entender o que o usuário está tentando nos dizer.

Para adicionar um smartflow, siga o código que mostro a seguir

```ts

    /* código do material */

    const byeFlow = addKeyword('bye').addAnswer('bye, I hope see you soon');

    const smartFlowBye = {
        nome: 'BYE_FLOW',
        description: [
            "Sou especialista em despedidas,",
            "Sou a pessoa certa para responder quando o usuário diz adeus ou está se despedindo."
        ].join(' '),
        flow: byeFlow
    }

    const { flow } = await createShopifyFlow({
        modelName: 'gpt-3.5-turbo-16k',
        openApiKey: "YOUR_OPEN_API_KEY_HERE",
        shopifyApiKey: "YOUR_SHOPIFY_API_KEY_HERE",
        shopifyDomain: "YOUR_SHOPIFY_DOMAIN_HERE",
        flows: [smartFlowBye]
    })


    await createBot({
        database: new MemoryDB(),
        provider,
        flow: createFlow(flows)
    })

```
A resposta do bot deve ser algo como isto.

![ByeFlow](https://imgur.com/eCafkEH.jpg)

## NormalFlows

Às vezes, precisamos apenas de um fluxo comum para fornecer respostas imediatas e controladas. Nesse caso, vamos simplesmente adicionar o fluxo para acionar uma ação quando o usuário disser obrigado.

```ts
    const gratefullFlow = addKeyword('/thanks/', 
    { sensitive: false, regex: true }).addAnswer("Obrigado por confiar em nossa loja ❤️");


    const flows = flow.concat(gratefullFlow)

    const { flow } = await createShopifyFlow({
        modelName: 'gpt-3.5-turbo-16k',
        openApiKey: "YOUR_OPEN_API_KEY_HERE",
        shopifyApiKey: "YOUR_SHOPIFY_API_KEY_HERE",
        shopifyDomain: "SEU_SHOPIFY_DOMÍNIO_AQUI"
    })

    await createBot({
        database: new MemoryDB(),
        provider,
        flow: createFlow(flows)
    })
```

![normalFlow](https://imgur.com/8USmljn.jpg)

## Precisão
PRECISÃO DO PLUGIN__

O plug-in foi submetido a vários testes de conversação, desde perguntas diretas até outras mais conversacionais.

Aqui estão alguns exemplos

![pricing](https://imgur.com/Hqg2iKe.jpg)
![image](https://imgur.com/XWixElU.jpg)
![colors](https://imgur.com/wfdYgQf.jpg)

O plug-in tem 97% de precisão quando a conversa não é ambígua

O plug-in tem 96% de precisão quando a conversa não é ambígua. Isso significa que ele é tão preciso quanto a própria pergunta.
Isso não diminui seu potencial.

TODO:

- [ ] Melhorar o histórico da conversa.

- [ ] Gerenciar perguntas ambíguas no mesmo fluxo.

- [ ] Melhorar os acionadores de resposta dos agentes.

- [ ] Linguagem dinâmica falada pelo usuário.

## Referências
__REFERÊNCIA:__\
[Pluggin do Shopify](https://github.com/codigoencasa/bot-plugins/tree/feature/shopify/packages/shopify)
[Provedor do Telegram](https://github.com/codigoencasa/bot-plugins/tree/feature/shopify/packages/telegram)