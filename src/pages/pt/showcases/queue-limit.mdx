import { Contributors } from '@/components/Contributors'
import { Resources } from '@/components/Resources'
import { Guides } from '@/components/Guides'

export const description = 'Implement message queues for better resource management'

# Queue

## How to implement and manage Queue Limit {{not:'true'}}

A estrutura, por padrÃ£o, implementa um gerenciador de filas com base em promessas de trabalho por usuÃ¡rio.
Se jÃ¡ compreende o conceito e se encontra num ambiente em que recebe um nÃºmero considerÃ¡vel de mensagens recorrentes num curto perÃ­odo de tempo e percebe que responde a um grande nÃºmero de utilizadores, mas nÃ£o a todos. VocÃª pode tentar estender a configuraÃ§Ã£o da fila de processos.

__Imagine o caso__ em que recebe mais de 60 mensagens de mais de 60 pessoas num perÃ­odo muito curto de tempo inferior a 20 segundos, por exemplo

```mermaid
flowchart LR
    n(User n) -.-> B((Bot))
    n(User n) -.-> B((Bot))
    n(User n) -.-> B((Bot))
    n(User n) -.-> B((Bot))
    n(User n) -.-> B((Bot))
    n(User n) -.-> B((Bot))
    n(User n) -.-> B((Bot))
```
Ã‰ muito provÃ¡vel que ele nÃ£o responda a todos os usuÃ¡rios, uma vez que a configuraÃ§Ã£o padrÃ£o do bot Ã© definida para lidar com uma quantidade menor de processos, mas Ã© muito fÃ¡cil de modificar.

```bash {{ title: 'app.ts' }}
const main = async () => {

    await createBot({
        database: new MemoryDB(),
        provider: createProvider(BaileysProvider),
        flow: createFlow([...])
    }, {
        queue: {
            timeout: 20000, //ðŸ‘Œ
            concurrencyLimit: 50 //ðŸ‘Œ
        }
    })
}
```
----
<Properties>
  <Property name="timeout" type="number">
NÃºmero de milissegundos utilizados como duraÃ§Ã£o mÃ¡xima para a execuÃ§Ã£o de uma funÃ§Ã£o assÃ­ncrona. __default 20000__
  </Property>
  <Property name="concurrencyLimit" type="number">
NÃºmero de processos paralelos que podem ser executados ao mesmo tempo. __default 15__
  </Property>

</Properties>

---

<Guides />

<Resources />

<Contributors users={['leifermendez','robmoncayonabux', 'elimeleth']} />